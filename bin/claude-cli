#!/usr/bin/env bash

# Use XDG_CONFIG_HOME or default to ~/.config
XDG_CONFIG_HOME="${XDG_CONFIG_HOME:-$HOME/.config}"

# Check if user provided --mcp-config
HAS_MCP_CONFIG=false
for arg in "$@"; do
    if [[ "$arg" == "--mcp-config" ]]; then
        HAS_MCP_CONFIG=true
        break
    fi
done

# Build arguments
ARGS=()
if [[ "$HAS_MCP_CONFIG" == "false" ]]; then
    ARGS+=("--mcp-config" "$XDG_CONFIG_HOME/claude/mcp.json")
fi
ARGS+=("$@")

claude "${ARGS[@]}"
