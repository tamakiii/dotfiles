#!/usr/bin/env bash

# Use XDG_CONFIG_HOME or default to ~/.config
XDG_CONFIG_HOME="${XDG_CONFIG_HOME:-$HOME/.config}"

# Default arguments with our MCP config
ARGUMENTS=(
    --mcp-config "$XDG_CONFIG_HOME/claude/mcp.json"
    "$@"
)

# Check if --mcp-config is already provided in arguments
for arg in "$@"; do
    if [[ "$arg" == "--mcp-config" ]]; then
        # User provided their own --mcp-config, don't add ours
        ARGUMENTS=("$@")
        break
    fi
done

claude "${ARGUMENTS[@]}"
